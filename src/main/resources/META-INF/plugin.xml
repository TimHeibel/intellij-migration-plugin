<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>com.github.timheibel.intellijmigrationplugin</id>
    <name>Migration Helper</name>
    <vendor>timheibel</vendor>

    <depends>com.intellij.modules.platform</depends>

    <actions>
        <group
            id = "intellijmigrationplugin.AnnotationAction.Group"
            text = "Annotations"
            popup = "true">
            <add-to-group
                    group-id="EditorPopupMenu"
                    anchor= "last"/>
        </group>
        <action
                id = "intellijmigrationplugin.actions.annotation.DialogAction"
                class = "intellijmigrationplugin.actions.annotation.DialogAction"
                text = "Open Annotation Dialog"
                description = "Opens Dialog to enter Annotation-Type and additional informations">
            <add-to-group group-id="intellijmigrationplugin.AnnotationAction.Group"/>
            <keyboard-shortcut
                    keymap="$default"
                    first-keystroke="control alt W"/>
        </action>


        <action
                id = "intellijmigrationplugin.actions.annotationVisualisation.JumpToFileAction"
                class = "intellijmigrationplugin.actions.annotationVisualisation.JumpToFileAction"
                text = "Open Migration Target File"
                description = "Opens the specified target file from the migration annotation">
                <add-to-group
                    group-id="EditorPopupMenu"
                    anchor= "last"/>
        </action>
        <action
                id = "intellijmigrationplugin.actions.annotationVisualisation.ShowAnnotationVisualisationAction"
                class = "intellijmigrationplugin.actions.annotationVisualisation.ShowAnnotationVisualisationAction"
                text = "TurnOnMarker"
                description = "Turns the annotation visualisation in the editor on and off">
            <add-to-group
                    group-id="ToolsMenu"
                    anchor= "last"/>
            <add-to-group
                    group-id="intellijmigrationplugin.AnnotationAction.Group"
                    anchor= "last"/>

            <keyboard-shortcut keymap="$default" first-keystroke="control alt shift o"/>
            <!-- control == option, alt = command, meta = control -->
        </action>

        <action
                id = "intellijmigrationplugin.actions.annotation.RemovalAction"
                class = "intellijmigrationplugin.actions.annotation.AnnotationRemovalAction"
                text = "Remove Annotations"
                description = "Remove annotations in the given code-segment">
            <add-to-group group-id="intellijmigrationplugin.AnnotationAction.Group"/>
            <keyboard-shortcut
                    keymap="$default"
                    first-keystroke="control alt E"/>
        </action>

        <action
                id = "intellijmigrationplugin.actions.annotationVisualisation.JumpToAnnotationAction"
                class = "intellijmigrationplugin.actions.annotationVisualisation.JumpToAnnotationAction"
                text = "Jump to Annotation"
                description = "Jumps if the cursor is in an active annotation">
            <add-to-group group-id="intellijmigrationplugin.AnnotationAction.Group"/>
            <keyboard-shortcut
                    keymap="$default"
                    first-keystroke="control alt shift j"/>
        </action>

        <action
                id = "intellijmigrationplugin.actions.annotationVisualisation.ShowAnnotationTypeAction"
                class = "intellijmigrationplugin.actions.annotationVisualisation.ShowAnnotationTypeAction"
                text = "Show Annotation"
                description = "Shows the current annotation type">
            <add-to-group group-id="intellijmigrationplugin.AnnotationAction.Group"/>
            <keyboard-shortcut
                    keymap="$default"
                    first-keystroke="control alt shift p"/>
        </action>
    </actions>

    <extensions defaultExtensionNs="com.intellij">
        <postStartupActivity implementation="intellijmigrationplugin.annotationModel.ProjectStartupActivity"/>

        <applicationConfigurable
            parentId="tools"
            instance="intellijmigrationplugin.settings.MigrationsSettingsConfigurable"
            id="intellijmigrationplugin.settings.MigrationSettingsConfigurable"
            displayName="Migration Plugin"/>
        <applicationService
                serviceImplementation="intellijmigrationplugin.settings.MigrationSettingsState"/>

        <notificationGroup id="Custom Notification Group"
                           displayType="BALLOON"/>
    </extensions>


</idea-plugin>
